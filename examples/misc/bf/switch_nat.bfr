open import "std.bfr"

codegen $

$build {
  b: cell;
  f: cell;
  r: cell;
  x: cell;
}

+ b 'B'
+ f 'F'
+ r 'R'

, x
- x '0'

*gen_switch_nat x
  ( [ $put b ];  // case 0
    [ $put f ];  // case 1
    [ $put r ];  // case 2
  )
  [ // default
    + x '0'
    $put x
  ]