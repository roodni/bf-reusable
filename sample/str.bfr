import "./bfi_lib.bfr"

let gen_puts = fun l -> [
  $var { c: cell; } in
  *fix
    (fun loop prev l ->
      match l with
      | nil -> []
      | hd :: tl -> [
          + c (hd - prev)
          . c
          *loop hd tl
        ])
    0 l
]

main {} [
  *gen_puts "hello world\n"
]